@using AmeliorateAegis.Models.ViewModels

@model DashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
}

<div class="row">
    <div class="col-md-4">
        <div class="card card-chart">
            <div class="card-header card-header-success">
                <div class="ct-chart" id="Attendance">No. Of Pupils</div>
            </div>
            <div class="card-body">
                <h4 class="card-title">@Model.PupilCount</h4>
                <p class="card-category">
                    <span class="text-success"><i class="fa fa-long-arrow-up"></i>  </span> Every day recording.
                </p>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">access_time</i> updated every day
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card card-chart">
            <div class="card-header card-header-warning">
                <div class="ct-chart" id="Schedule">No. Of Lessons</div>
            </div>
            <div class="card-body">
                <h4 class="card-title">@Model.LessonCount</h4>
                <p class="card-category"> Everday Tasks</p>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">access_time</i> Updated every day
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card card-chart">
            <div class="card-header card-header-danger">
                <div class="ct-chart" id="Portforlio">No. Of Parents</div>
            </div>
            <div class="card-body">
                <h4 class="card-title">@Model.ParentCount</h4>
                <p class="card-category">Individual Parents</p>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">access_time</i> Updated every day
                </div>
            </div>
        </div>
    </div>
</div>



<div class="row row-eq-height">
    <div class="col-md-6">
        <div class="card" style="height:100%">
            <div class="card-header card-header-primary">
                <h4 class="card-title">Pupil Stats</h4>
                <p class="card-category">Latest Added Pupils</p>
            </div>
            <div class="card-body table-responsive">
                <table class="table table-hover">
                    <tr class="text-warning">
                        <th>ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>DoB</th>
                    </tr>
                    <tbody>
                        @foreach (var item in Model.Pupils)
                        {
                            var dob = item.DoB.ToShortDateString();
                            <tr>
                                <td>@Html.DisplayFor(model => item.Id)</td>
                                <td>@Html.DisplayFor(model => item.FirstName)</td>
                                <td>@Html.DisplayFor(model => item.LastName)</td>
                                <td>@Html.DisplayFor(model => dob)</td>
                            </tr>
                        }


                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="height:100%">
            <div class="card-header card-header-primary">
                <h4 class="card-title">Schedule</h4>
                <p class="card-category">Teacher Schedule</p>
            </div>
            <div class="card-body">
                <div id="calendar"></div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth'
        });
        calendar.render();
    });
</script>
